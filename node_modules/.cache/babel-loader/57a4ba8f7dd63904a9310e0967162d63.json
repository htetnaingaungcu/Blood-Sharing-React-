{"ast":null,"code":"import { retrieveData, storeData } from \"../utilites/localStorage\";\nexport const insertBloodRequest = bloodRequest => dispatch => {\n  const bloodRequests = retrieveData(\"bloodRequests\");\n\n  if (bloodRequests !== null && bloodRequests.length > 0) {\n    const mapped_array = bloodRequests.map(i => parseInt(i.id));\n    const max_id = Math.max(...mapped_array);\n    bloodRequest.id = max_id + 1;\n  } else {\n    bloodRequest.id = 1;\n  }\n\n  bloodRequests.push(bloodRequest);\n  storeData(\"bloodRequests\", bloodRequests);\n  dispatch({\n    type: 'ADD_NEW_BLOOD_REQUEST',\n    data: bloodRequest\n  });\n};","map":{"version":3,"sources":["/media/htet/13d0eda8-9d9f-4341-9c22-cd0d2676df10/PADC Project/PADC7-FP-BloodSharing-Web/blood-sharing/src/actions/bloodRequestActions.js"],"names":["retrieveData","storeData","insertBloodRequest","bloodRequest","dispatch","bloodRequests","length","mapped_array","map","i","parseInt","id","max_id","Math","max","push","type","data"],"mappings":"AAAA,SAAQA,YAAR,EAAqBC,SAArB,QAAqC,0BAArC;AAEA,OAAO,MAAMC,kBAAkB,GAAIC,YAAD,IAAkBC,QAAQ,IAAI;AAC5D,QAAMC,aAAa,GAAGL,YAAY,CAAC,eAAD,CAAlC;;AAEA,MAAIK,aAAa,KAAK,IAAlB,IAA0BA,aAAa,CAACC,MAAd,GAAuB,CAArD,EAAwD;AACpD,UAAMC,YAAY,GAAGF,aAAa,CAACG,GAAd,CAAmBC,CAAC,IAAIC,QAAQ,CAACD,CAAC,CAACE,EAAH,CAAhC,CAArB;AACA,UAAMC,MAAM,GAAGC,IAAI,CAACC,GAAL,CAAS,GAAGP,YAAZ,CAAf;AACAJ,IAAAA,YAAY,CAACQ,EAAb,GAAkBC,MAAM,GAAG,CAA3B;AACH,GAJD,MAKK;AACDT,IAAAA,YAAY,CAACQ,EAAb,GAAkB,CAAlB;AACH;;AAEDN,EAAAA,aAAa,CAACU,IAAd,CAAmBZ,YAAnB;AACAF,EAAAA,SAAS,CAAC,eAAD,EAAkBI,aAAlB,CAAT;AAEAD,EAAAA,QAAQ,CAAC;AACLY,IAAAA,IAAI,EAAE,uBADD;AAELC,IAAAA,IAAI,EAAGd;AAFF,GAAD,CAAR;AAIH,CAnBM","sourcesContent":["import {retrieveData,storeData} from \"../utilites/localStorage\";\n\nexport const insertBloodRequest = (bloodRequest) => dispatch => {\n    const bloodRequests = retrieveData(\"bloodRequests\");\n\n    if (bloodRequests !== null && bloodRequests.length > 0) {\n        const mapped_array = bloodRequests.map( i => parseInt(i.id));\n        const max_id = Math.max(...mapped_array);\n        bloodRequest.id = max_id + 1;\n    } \n    else {\n        bloodRequest.id = 1;\n    }\n    \n    bloodRequests.push(bloodRequest);\n    storeData(\"bloodRequests\", bloodRequests);\n\n    dispatch({\n        type: 'ADD_NEW_BLOOD_REQUEST',\n        data : bloodRequest\n    });\n};"]},"metadata":{},"sourceType":"module"}