{"ast":null,"code":"import { retrieveData, storeData } from \"../utilites/localStorage\";\nimport firebase from '../utilites/firebase';\nexport const fetchBloodRequests = () => dispatch => {\n  const bloodRequests = [];\n  const getRequests = firebase.firestore().collection('Request_User').get();\n  getRequests.then(snapshot => {\n    snapshot.docs.forEach(item => {\n      const request = item.data();\n      request.id = item.id;\n      bloodRequests.push(request);\n    });\n    dispatch({\n      type: 'FETCH_REQUEST',\n      data: bloodRequests\n    });\n  });\n};\nexport const fetchRequestByBloodType = () => dispatch => {\n  const bloodRequests = [];\n  firebase.firestore().collection('Request_User').where('bloodType', '==', 'O').get().then(snapshot => {\n    snapshot.docs.forEach(item => {\n      const request = item.data();\n      request.id = item.id;\n      bloodRequests.push(request);\n    });\n    dispatch({\n      type: 'FETCH_ALL_REQUEST',\n      data: bloodRequests\n    });\n  });\n};\nexport const insertBloodRequest = bloodRequest => dispatch => {\n  firebase.firestore().collection('Request_User').add(bloodRequest).then(data => {\n    bloodRequest.id = data.id;\n    dispatch({\n      type: 'ADD_NEW_BLOOD_REQUEST',\n      data: bloodRequest\n    });\n  });\n};","map":{"version":3,"sources":["/media/htet/13d0eda8-9d9f-4341-9c22-cd0d2676df10/PADC Project/PADC7-FP-BloodSharing-Web/blood-sharing/src/actions/bloodRequestActions.js"],"names":["retrieveData","storeData","firebase","fetchBloodRequests","dispatch","bloodRequests","getRequests","firestore","collection","get","then","snapshot","docs","forEach","item","request","data","id","push","type","fetchRequestByBloodType","where","insertBloodRequest","bloodRequest","add"],"mappings":"AAAA,SAAQA,YAAR,EAAqBC,SAArB,QAAqC,0BAArC;AACA,OAAOC,QAAP,MAAqB,sBAArB;AAEA,OAAO,MAAMC,kBAAkB,GAAG,MAAMC,QAAQ,IAAI;AAClD,QAAMC,aAAa,GAAG,EAAtB;AACA,QAAMC,WAAW,GAAGJ,QAAQ,CAACK,SAAT,GAAqBC,UAArB,CAAgC,cAAhC,EAAgDC,GAAhD,EAApB;AAEAH,EAAAA,WAAW,CAACI,IAAZ,CAAmBC,QAAD,IAAc;AAC9BA,IAAAA,QAAQ,CAACC,IAAT,CAAcC,OAAd,CAAuBC,IAAI,IAAI;AAC3B,YAAMC,OAAO,GAAGD,IAAI,CAACE,IAAL,EAAhB;AACAD,MAAAA,OAAO,CAACE,EAAR,GAAaH,IAAI,CAACG,EAAlB;AACAZ,MAAAA,aAAa,CAACa,IAAd,CAAmBH,OAAnB;AACH,KAJD;AAKAX,IAAAA,QAAQ,CAAC;AACLe,MAAAA,IAAI,EAAE,eADD;AAELH,MAAAA,IAAI,EAAEX;AAFD,KAAD,CAAR;AAID,GAVD;AAWD,CAfM;AAiBP,OAAO,MAAMe,uBAAuB,GAAG,MAAMhB,QAAQ,IAAI;AACvD,QAAMC,aAAa,GAAG,EAAtB;AACAH,EAAAA,QAAQ,CAACK,SAAT,GAAqBC,UAArB,CAAgC,cAAhC,EAAgDa,KAAhD,CAAsD,WAAtD,EAAmE,IAAnE,EAAyE,GAAzE,EAA8EZ,GAA9E,GACCC,IADD,CACMC,QAAQ,IAAI;AAChBA,IAAAA,QAAQ,CAACC,IAAT,CAAcC,OAAd,CAAuBC,IAAI,IAAI;AAC7B,YAAMC,OAAO,GAAGD,IAAI,CAACE,IAAL,EAAhB;AACAD,MAAAA,OAAO,CAACE,EAAR,GAAaH,IAAI,CAACG,EAAlB;AACAZ,MAAAA,aAAa,CAACa,IAAd,CAAmBH,OAAnB;AACD,KAJD;AAMAX,IAAAA,QAAQ,CAAC;AACPe,MAAAA,IAAI,EAAE,mBADC;AAEPH,MAAAA,IAAI,EAAEX;AAFC,KAAD,CAAR;AAKD,GAbD;AAcD,CAhBM;AAkBP,OAAO,MAAMiB,kBAAkB,GAAIC,YAAD,IAAkBnB,QAAQ,IAAI;AAE5DF,EAAAA,QAAQ,CAACK,SAAT,GAAqBC,UAArB,CAAgC,cAAhC,EAAgDgB,GAAhD,CAAoDD,YAApD,EACCb,IADD,CACQM,IAAD,IAAU;AACfO,IAAAA,YAAY,CAACN,EAAb,GAAkBD,IAAI,CAACC,EAAvB;AACAb,IAAAA,QAAQ,CAAC;AACPe,MAAAA,IAAI,EAAE,uBADC;AAEPH,MAAAA,IAAI,EAAGO;AAFA,KAAD,CAAR;AAID,GAPD;AASD,CAXI","sourcesContent":["import {retrieveData,storeData} from \"../utilites/localStorage\";\nimport firebase from '../utilites/firebase';\n\nexport const fetchBloodRequests = () => dispatch => {\n  const bloodRequests = [];\n  const getRequests = firebase.firestore().collection('Request_User').get();\n\n  getRequests.then( (snapshot) => {\n    snapshot.docs.forEach( item => {\n        const request = item.data();\n        request.id = item.id;\n        bloodRequests.push(request);\n    });\n    dispatch({\n        type: 'FETCH_REQUEST',\n        data: bloodRequests\n    });\n  }) \n}\n\nexport const fetchRequestByBloodType = () => dispatch => {\n  const bloodRequests = [];\n  firebase.firestore().collection('Request_User').where('bloodType', '==', 'O').get()\n  .then(snapshot => {\n    snapshot.docs.forEach( item => {\n      const request = item.data();\n      request.id = item.id;\n      bloodRequests.push(request);\n    });\n\n    dispatch({\n      type: 'FETCH_ALL_REQUEST',\n      data: bloodRequests\n    });\n\n  });\n}\n\nexport const insertBloodRequest = (bloodRequest) => dispatch => { \n      \n    firebase.firestore().collection('Request_User').add(bloodRequest)\n    .then( (data) => {\n      bloodRequest.id = data.id;\n      dispatch({\n        type: 'ADD_NEW_BLOOD_REQUEST',\n        data : bloodRequest\n      });\n    });\n\n  };\n"]},"metadata":{},"sourceType":"module"}