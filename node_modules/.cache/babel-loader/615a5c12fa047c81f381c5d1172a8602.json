{"ast":null,"code":"// import React from 'react';\n// import './ImageUpload.css';\n// import firebase from '../../../utilities/firebase';\n// import { connect } from 'react-redux';\n// const firestore = firebase.firestore();\n// class ImageUpload extends React.Component {\n//   constructor(props) {\n//     super(props);\n//     this.imageFile = React.createRef();\n//   }\n//   addMessage = (url) => {\n//     const message = {\n//         image: url,\n//         sendAt: new Date(),\n//         //uid: this.state.user.uid,\n//         uid: \"sMdnzobCrvWx0UMCtfduCqRmjWR2\"\n//     }\n//     const message_id = this.props.messageId;\n//     firestore.collection('Chat_Room').doc(message_id).collection('Message').add(message)\n//   }\n//   handleFileOnChange = () => {\n//     const file = this.imageFile.current.files[0];\n//     var storageRef = firebase.storage().ref();\n//     const filePath = 'message/images/' + file.name;\n//     const imageRef = storageRef.child(filePath);\n//     imageRef\n//       .put(file)\n//       .then(() => {\n//         storageRef.child(filePath)\n//           .getDownloadURL().then(this.addMessage)\n//       })\n//       .catch(error => { console.log(error) });\n//   }\n//   render() {\n//     return (\n//       <div className=\"uploadHolder\">\n//         <input\n//           ref={this.imageFile}\n//           onChange={this.handleFileOnChange}\n//           type=\"file\" accept=\"image/*\" />\n//       </div>\n//     );\n//   }\n// }\n// const mapStateToProps = (state) => ({\n//   user: state.currentUser,\n// })\n// export default connect(mapStateToProps)(ImageUpload);","map":{"version":3,"sources":["/media/htet/13d0eda8-9d9f-4341-9c22-cd0d2676df10/PADC Project/PADC7-FP-BloodSharing-Web/blood-sharing/src/components/container/ImageUpload/ImageUpload.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA","sourcesContent":["// import React from 'react';\n// import './ImageUpload.css';\n// import firebase from '../../../utilities/firebase';\n// import { connect } from 'react-redux';\n\n// const firestore = firebase.firestore();\n// class ImageUpload extends React.Component {\n//   constructor(props) {\n//     super(props);\n//     this.imageFile = React.createRef();\n//   }\n\n//   addMessage = (url) => {\n//     const message = {\n//         image: url,\n//         sendAt: new Date(),\n//         //uid: this.state.user.uid,\n//         uid: \"sMdnzobCrvWx0UMCtfduCqRmjWR2\"\n//     }\n//     const message_id = this.props.messageId;\n    \n//     firestore.collection('Chat_Room').doc(message_id).collection('Message').add(message)\n//   }\n\n//   handleFileOnChange = () => {\n//     const file = this.imageFile.current.files[0];\n//     var storageRef = firebase.storage().ref();\n\n//     const filePath = 'message/images/' + file.name;\n//     const imageRef = storageRef.child(filePath);\n\n//     imageRef\n//       .put(file)\n//       .then(() => {\n//         storageRef.child(filePath)\n//           .getDownloadURL().then(this.addMessage)\n\n//       })\n//       .catch(error => { console.log(error) });\n\n//   }\n\n//   render() {\n//     return (\n//       <div className=\"uploadHolder\">\n//         <input\n//           ref={this.imageFile}\n//           onChange={this.handleFileOnChange}\n//           type=\"file\" accept=\"image/*\" />\n//       </div>\n//     );\n//   }\n// }\n\n\n// const mapStateToProps = (state) => ({\n//   user: state.currentUser,\n// })\n\n// export default connect(mapStateToProps)(ImageUpload);"]},"metadata":{},"sourceType":"module"}