{"ast":null,"code":"var _jsxFileName = \"/media/htet/13d0eda8-9d9f-4341-9c22-cd0d2676df10/PADC Project/PADC7-FP-BloodSharing-Web/blood-sharing/src/components/container/DonationForm/DonationForm.js\";\nimport React from \"react\";\nimport { BrowserRouter as Link, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { insertDonor, fetchDonors } from \"../../../actions/donorActions\";\nimport { updateUser } from \"../../../actions/userActions\";\nimport { Container, Row, Col, Navbar, Nav, NavDropdown, NavItem, Form, Button, p, TabPane, TabContent } from 'react-bootstrap';\nimport regImg from '../../../assets/images/reg_img.jpg';\n\nclass DonationForm extends React.Component {\n  constructor(props) {\n    super(props); //this.props.fetchDonors();\n\n    this.genderOnChange = event => {\n      this.setState({\n        gender: event.target.value\n      });\n    };\n\n    this.bloodTypeOnChange = event => {\n      this.setState({\n        bloodType: event.target.value\n      });\n    };\n\n    this.handleOnSubmit = event => {\n      event.preventDefault();\n      const donor = {\n        username: this.props.currentUser.email,\n        uid: this.props.currentUser.uid //const donorData = this.props.donors.find( data => data.uid === donor.uid && data.username === donor.username);\n\n      };\n      const user_id = this.props.currentUser.uid;\n      const user = {\n        name: this.name.current.value,\n        phone: this.phone.current.value,\n        bloodType: this.state.bloodType,\n        dateOfBirth: this.dob.current.value,\n        gender: this.state.gender,\n        location: this.location.current.locaion\n      };\n      this.props.insertDonor(donor);\n      this.props.updateUser(user, user_id);\n      this.setState({\n        completeDonationForm: true\n      });\n    };\n\n    this.name = React.createRef();\n    this.phone = React.createRef();\n    this.dob = React.createRef();\n    this.locaion = React.createRef();\n    this.state = {\n      gender: 'male',\n      bloodType: 'A',\n      completeDonationForm: false\n    };\n  }\n\n  render() {\n    if (this.state.completeDonationForm) return React.createElement(Redirect, {\n      to: \"/donate/next\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    });\n    return React.createElement(\"div\", {\n      className: \"registerSession\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"  \"), React.createElement(Col, {\n      md: 5,\n      sm: 8,\n      className: \"regform\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"text-center \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Donation\"))), React.createElement(\"div\", {\n      className: \"form_field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Form, {\n      className: \"form p-4\",\n      onSubmit: this.handleOnSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Name\")), React.createElement(Col, {\n      md: 9,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"name\",\n      className: \"form-control\",\n      ref: this.name,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"phone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Phone No\")), React.createElement(Col, {\n      md: 9,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"phone\",\n      className: \"form-control\",\n      ref: this.phone,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"dob\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Date of Birth\")), React.createElement(Col, {\n      md: 9,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"dob\",\n      className: \"form-control\",\n      ref: this.dob,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"bloodType\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Please select your blood group\")), React.createElement(Col, {\n      md: 9,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(Row, {\n      className: \"pl-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"A\",\n      checked: this.state.bloodType === \"A\",\n      onChange: this.bloodTypeOnChange,\n      className: \"btn_bloodType\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"A+\",\n      checked: this.state.bloodType === \"A+\",\n      onChange: this.bloodTypeOnChange,\n      className: \"btn_bloodType\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"B\",\n      checked: this.state.bloodType === \"B\",\n      onChange: this.bloodTypeOnChange,\n      className: \"btn_bloodType\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"B+\",\n      checked: this.state.bloodType === \"B+\",\n      onChange: this.bloodTypeOnChange,\n      className: \"btn_bloodType\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    })), React.createElement(Row, {\n      className: \"pl-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"O\",\n      checked: this.state.bloodType === \"O\",\n      onChange: this.bloodTypeOnChange,\n      className: \"btn_bloodType\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"O+\",\n      checked: this.state.bloodType === \"O+\",\n      onChange: this.bloodTypeOnChange,\n      className: \"btn_bloodType\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"AB\",\n      checked: this.state.bloodType === \"AB\",\n      onChange: this.genderOnChange,\n      className: \"btn_bloodType\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"AB+\",\n      checked: this.state.bloodType === \"AB+\",\n      onChange: this.bloodTypeOnChange,\n      className: \"btn_bloodType\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"location\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"Location\")), React.createElement(Col, {\n      md: 9,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"location\",\n      className: \"form-control\",\n      ref: this.location,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"form-bottom text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"submit\",\n      className: \"btnreg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Submit\")))))), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  currentUser: state.currentUser //donors: state.donors\n\n});\n\nconst mapDispatchToProps = {\n  insertDonor,\n  updateUser //fetchDonors\n\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(DonationForm);","map":{"version":3,"sources":["/media/htet/13d0eda8-9d9f-4341-9c22-cd0d2676df10/PADC Project/PADC7-FP-BloodSharing-Web/blood-sharing/src/components/container/DonationForm/DonationForm.js"],"names":["React","BrowserRouter","Link","Redirect","connect","insertDonor","fetchDonors","updateUser","Container","Row","Col","Navbar","Nav","NavDropdown","NavItem","Form","Button","p","TabPane","TabContent","regImg","DonationForm","Component","constructor","props","genderOnChange","event","setState","gender","target","value","bloodTypeOnChange","bloodType","handleOnSubmit","preventDefault","donor","username","currentUser","email","uid","user_id","user","name","current","phone","state","dateOfBirth","dob","location","locaion","completeDonationForm","createRef","render","mapStateToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { BrowserRouter as  Link,Redirect } from \"react-router-dom\";\n\nimport { connect } from \"react-redux\";\nimport { insertDonor, fetchDonors } from \"../../../actions/donorActions\";\nimport { updateUser } from \"../../../actions/userActions\";\n\nimport { Container, Row, Col, Navbar, Nav, NavDropdown, NavItem, Form, Button, p, TabPane, TabContent } from 'react-bootstrap';\nimport regImg from '../../../assets/images/reg_img.jpg';\n\nclass DonationForm extends React.Component {\n    constructor(props) {\n        super(props);\n        //this.props.fetchDonors();\n        this.name = React.createRef();\n        this.phone = React.createRef();\n        this.dob = React.createRef();\n        this.locaion = React.createRef();\n        \n        this.state = {\n            gender: 'male',\n            bloodType: 'A',\n            completeDonationForm: false\n        };\n    }\n\n    genderOnChange = (event) => {\n        this.setState({\n            gender: event.target.value\n        })\n    }\n\n    bloodTypeOnChange = (event) => {\n        this.setState({\n            bloodType: event.target.value\n        })\n    }    \n\n    handleOnSubmit = event => {\n        event.preventDefault();\n\n        const donor = {\n            username: this.props.currentUser.email,\n            uid: this.props.currentUser.uid,\n        }\n\n        //const donorData = this.props.donors.find( data => data.uid === donor.uid && data.username === donor.username);\n        const user_id = this.props.currentUser.uid;\n        const user = {\n            name: this.name.current.value,\n            phone: this.phone.current.value,\n            bloodType: this.state.bloodType,\n            dateOfBirth: this.dob.current.value,\n            gender: this.state.gender,\n            location: this.location.current.locaion,           \n        }\n\n        this.props.insertDonor(donor); \n        this.props.updateUser(user, user_id);\n\n        this.setState({\n            completeDonationForm: true\n        });\n    };\n\n    render() {\n        if (this.state.completeDonationForm) return <Redirect to=\"/donate/next\" />;\n\n        return (\n            <div className=\"registerSession\">\n                <Container>\n                    <Row>\n                        <Col></Col>\n                        <Col>  </Col>\n\n                        <Col md={ 5 } sm={8} className=\"regform\">\n                            <Row>\n                                <Col className=\"text-center \">\n                                    <h2>Donation</h2>\n                                </Col>\n                            </Row>\n\n                            <div className=\"form_field\">\n                                <div className=\"\">\n                                    <Form className=\"form p-4\" onSubmit={this.handleOnSubmit}>\n                                        <div className=\"form-group\">\n                                            <Row>\n                                                <Col className=\"text-right\">\n                                                    <label for=\"name\">Name</label>\n                                                </Col>\n                                                <Col md={ 9 }>\n                                                    <input id=\"name\" className=\"form-control\" ref={this.name} required />\n                                                </Col>\n                                            </Row>\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <Row>\n                                                <Col className=\"text-right\">\n                                                    <label for=\"phone\">Phone No</label>\n                                                </Col>\n                                                <Col md={ 9 }>\n                                                    <input id=\"phone\" className=\"form-control\" ref={this.phone} required />\n                                                </Col>\n                                            </Row>\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <Row>\n                                                <Col className=\"text-right\">\n                                                    <label for=\"dob\">Date of Birth</label>\n                                                </Col>\n                                                <Col md={ 9 }>\n                                                    <input id=\"dob\" className=\"form-control\" ref={this.dob} required />\n                                                </Col>\n                                            </Row>\n                                        </div>\n\n\n                                        <div className=\"form-group\">\n                                            <Row>\n                                                <Col className=\"text-right\">\n                                                    <label for=\"bloodType\">Please select your blood group</label>\n                                                </Col>\n                                                <Col md={ 9 }>\n                                                    <Row className=\"pl-3\">\n                                                        <input type=\"submit\" value=\"A\" checked={this.state.bloodType === \"A\"}\n                                                            onChange={this.bloodTypeOnChange} className=\"btn_bloodType\"/>\n\n                                                        <input type=\"submit\" value=\"A+\" checked={this.state.bloodType === \"A+\"}\n                                                            onChange={this.bloodTypeOnChange} className=\"btn_bloodType\" />\n\n                                                        <input type=\"submit\" value=\"B\" checked={this.state.bloodType === \"B\"}\n                                                            onChange={this.bloodTypeOnChange} className=\"btn_bloodType\" />\n\n                                                        <input type=\"submit\" value=\"B+\" checked={this.state.bloodType === \"B+\"}\n                                                            onChange={this.bloodTypeOnChange} className=\"btn_bloodType\" />\n\n                                                    </Row>\n\n                                                    \n                                                    <Row className=\"pl-3\">\n                                                        <input type=\"submit\" value=\"O\" checked={this.state.bloodType === \"O\"}\n                                                            onChange={this.bloodTypeOnChange} className=\"btn_bloodType\" />\n\n                                                        <input type=\"submit\" value=\"O+\" checked={this.state.bloodType === \"O+\"}\n                                                            onChange={this.bloodTypeOnChange} className=\"btn_bloodType\" />\n                                \n                                                        <input type=\"submit\" value=\"AB\" checked={this.state.bloodType === \"AB\"}\n                                                            onChange={this.genderOnChange} className=\"btn_bloodType\" />\n                                                        \n                                                        <input type=\"submit\" value=\"AB+\" checked={this.state.bloodType === \"AB+\"}\n                                                            onChange={this.bloodTypeOnChange} className=\"btn_bloodType\" />\n\n                                                           {/*  <Button className=\"btn_bloodType\">O +</Button>\n                                                            <Button className=\"btn_bloodType\">O </Button>\n                                                            <Button className=\"btn_bloodType\">AB +</Button>\n                                                            <Button className=\"btn_bloodType\">AB </Button> */}\n                                                    </Row>                \n                                                </Col>\n                                            </Row>\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <Row>\n                                                <Col className=\"text-right\">\n                                                    <label for=\"location\">Location</label>\n                                                </Col>\n                                                <Col md={ 9 }>\n                                                    <input id=\"location\" className=\"form-control\" ref={this.location} required />\n                                                </Col>\n                                            </Row>\n                                        </div>\n                                        <div className=\"form-bottom text-right\">\n                                            <Button type=\"submit\" className=\"btnreg\">Submit</Button>\n                                        </div>\n                                    </Form>\n                                </div>\n                            </div>\n                        </Col>\n                        <Col></Col>\n                        <Col></Col>\n                    </Row>\n                </Container>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    currentUser : state.currentUser,\n    //donors: state.donors\n})\n\nconst mapDispatchToProps = {\n    insertDonor,\n    updateUser,\n    //fetchDonors\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DonationForm);"]},"metadata":{},"sourceType":"module"}