{"ast":null,"code":"import { retrieveData, storeData } from \"../utilites/localStorage\";\nimport firebase from '../utilites/firebase';\nexport const insertDonor = donor => dispatch => {\n  firebase.firestore().collection('Donor').add(donor).then(data => {\n    dispatch({\n      type: 'ADD_NEW_DONOR',\n      data: donor\n    });\n  }); // firebase.firestore().collection('User').doc(user.id).get().then( (data) =>{\n  //     console.log(data.data())\n  // })\n  // firebase.firestore().collection('User').doc(user.id)\n  // .update(user)\n  // .then( (data) => {\n  //     dispatch({\n  //         type: 'UPDATE_USER',\n  //         user: user\n  //     })\n  // })\n};\nexport const fetchDonors = () => dispatch => {\n  const donors = [];\n  const getDonors = firebase.firestore().collection('Donor').get();\n  getDonors.then(snapshot => {\n    snapshot.docs.forEach(item => {\n      const donor = item.data();\n      donor.id = item.id;\n      donors.push(donor);\n    });\n    dispatch({\n      type: 'FETCH_DONOR',\n      data: donors\n    });\n  });\n};","map":{"version":3,"sources":["/media/htet/13d0eda8-9d9f-4341-9c22-cd0d2676df10/PADC Project/PADC7-FP-BloodSharing-Web/blood-sharing/src/actions/donorActions.js"],"names":["retrieveData","storeData","firebase","insertDonor","donor","dispatch","firestore","collection","add","then","data","type","fetchDonors","donors","getDonors","get","snapshot","docs","forEach","item","id","push"],"mappings":"AAAA,SAAQA,YAAR,EAAqBC,SAArB,QAAqC,0BAArC;AACA,OAAOC,QAAP,MAAqB,sBAArB;AAEA,OAAO,MAAMC,WAAW,GAAIC,KAAD,IAAWC,QAAQ,IAAI;AAE9CH,EAAAA,QAAQ,CAACI,SAAT,GAAqBC,UAArB,CAAgC,OAAhC,EAAyCC,GAAzC,CAA6CJ,KAA7C,EACCK,IADD,CACQC,IAAD,IAAU;AACbL,IAAAA,QAAQ,CAAC;AACLM,MAAAA,IAAI,EAAE,eADD;AAELD,MAAAA,IAAI,EAAGN;AAFF,KAAD,CAAR;AAIH,GAND,EAF8C,CAU9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CArBI;AAuBP,OAAO,MAAMQ,WAAW,GAAG,MAAMP,QAAQ,IAAI;AACzC,QAAMQ,MAAM,GAAG,EAAf;AACA,QAAMC,SAAS,GAAGZ,QAAQ,CAACI,SAAT,GAAqBC,UAArB,CAAgC,OAAhC,EAAyCQ,GAAzC,EAAlB;AAEAD,EAAAA,SAAS,CAACL,IAAV,CAAiBO,QAAD,IAAc;AAC1BA,IAAAA,QAAQ,CAACC,IAAT,CAAcC,OAAd,CAAuBC,IAAI,IAAI;AAC3B,YAAMf,KAAK,GAAGe,IAAI,CAACT,IAAL,EAAd;AACAN,MAAAA,KAAK,CAACgB,EAAN,GAAWD,IAAI,CAACC,EAAhB;AACAP,MAAAA,MAAM,CAACQ,IAAP,CAAYjB,KAAZ;AACH,KAJD;AAKAC,IAAAA,QAAQ,CAAC;AACLM,MAAAA,IAAI,EAAE,aADD;AAELD,MAAAA,IAAI,EAAEG;AAFD,KAAD,CAAR;AAIH,GAVD;AAWH,CAfM","sourcesContent":["import {retrieveData,storeData} from \"../utilites/localStorage\";\nimport firebase from '../utilites/firebase';\n\nexport const insertDonor = (donor) => dispatch => {\n\n    firebase.firestore().collection('Donor').add(donor)\n    .then( (data) => {\n        dispatch({\n            type: 'ADD_NEW_DONOR',\n            data : donor\n        });\n    });\n\n    // firebase.firestore().collection('User').doc(user.id).get().then( (data) =>{\n    //     console.log(data.data())\n    // })\n    // firebase.firestore().collection('User').doc(user.id)\n    // .update(user)\n    // .then( (data) => {\n    //     dispatch({\n    //         type: 'UPDATE_USER',\n    //         user: user\n    //     })\n    // })\n  };\n\nexport const fetchDonors = () => dispatch => {\n    const donors = [];\n    const getDonors = firebase.firestore().collection('Donor').get();\n\n    getDonors.then( (snapshot) => {\n        snapshot.docs.forEach( item => {\n            const donor = item.data();\n            donor.id = item.id;\n            donors.push(donor);\n        });\n        dispatch({\n            type: 'FETCH_DONOR',\n            data: donors\n        });\n    })\n}\n\n"]},"metadata":{},"sourceType":"module"}