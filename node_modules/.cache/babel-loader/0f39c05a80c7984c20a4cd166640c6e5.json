{"ast":null,"code":"var _jsxFileName = \"/media/htet/13d0eda8-9d9f-4341-9c22-cd0d2676df10/PADC Project/PADC7-FP-BloodSharing-Web/blood-sharing/src/components/container/DonationForm/DonationForm.js\";\nimport React from \"react\";\nimport { BrowserRouter as Link, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { insertDonor, fetchDonors } from \"../../../actions/donorActions\";\nimport { updateUser } from \"../../../actions/userActions\";\nimport { Container, Row, Col, Navbar, Nav, NavDropdown, NavItem, Form, Button, p, TabPane, TabContent } from 'react-bootstrap';\nimport regImg from '../../../assets/images/reg_img.jpg';\n\nclass DonationForm extends React.Component {\n  constructor(props) {\n    super(props); //this.props.fetchDonors();\n\n    this.genderOnChange = event => {\n      this.setState({\n        gender: event.target.value\n      });\n      console.log(event.target.value);\n    };\n\n    this.bloodTypeOnChange = event => {\n      this.setState({\n        bloodType: event.target.value\n      });\n      console.log(event.target.value);\n    };\n\n    this.locationOnChange = event => {\n      this.setState({\n        locaion: event.target.value\n      });\n    };\n\n    this.handleOnSubmit = event => {\n      event.preventDefault();\n      const donor = {\n        username: this.props.currentUser.email,\n        uid: this.props.currentUser.uid //const donorData = this.props.donors.find( data => data.uid === donor.uid && data.username === donor.username);\n\n      };\n      const user_id = this.props.currentUser.uid;\n      const user = {\n        name: this.name.current.value,\n        phone: this.phone.current.value,\n        bloodType: this.state.bloodType,\n        dateOfBirth: this.dob.current.value,\n        gender: this.state.gender,\n        location: this.state.location\n      };\n      this.props.insertDonor(donor);\n      this.props.updateUser(user, user_id);\n      this.setState({\n        completeDonationForm: true\n      });\n    };\n\n    this.name = React.createRef();\n    this.phone = React.createRef();\n    this.dob = React.createRef();\n    this.state = {\n      gender: 'male',\n      bloodType: 'A',\n      location: 'Hlaing, Yangon',\n      completeDonationForm: false\n    };\n  }\n\n  render() {\n    if (this.state.completeDonationForm) return React.createElement(Redirect, {\n      to: \"/donate/next\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    });\n    return React.createElement(\"div\", {\n      className: \"registerSession mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  currentUser: state.currentUser //donors: state.donors\n\n});\n\nconst mapDispatchToProps = {\n  insertDonor,\n  updateUser //fetchDonors\n\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(DonationForm);","map":{"version":3,"sources":["/media/htet/13d0eda8-9d9f-4341-9c22-cd0d2676df10/PADC Project/PADC7-FP-BloodSharing-Web/blood-sharing/src/components/container/DonationForm/DonationForm.js"],"names":["React","BrowserRouter","Link","Redirect","connect","insertDonor","fetchDonors","updateUser","Container","Row","Col","Navbar","Nav","NavDropdown","NavItem","Form","Button","p","TabPane","TabContent","regImg","DonationForm","Component","constructor","props","genderOnChange","event","setState","gender","target","value","console","log","bloodTypeOnChange","bloodType","locationOnChange","locaion","handleOnSubmit","preventDefault","donor","username","currentUser","email","uid","user_id","user","name","current","phone","state","dateOfBirth","dob","location","completeDonationForm","createRef","render","mapStateToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { BrowserRouter as  Link,Redirect } from \"react-router-dom\";\n\nimport { connect } from \"react-redux\";\nimport { insertDonor, fetchDonors } from \"../../../actions/donorActions\";\nimport { updateUser } from \"../../../actions/userActions\";\n\nimport { Container, Row, Col, Navbar, Nav, NavDropdown, NavItem, Form, Button, p, TabPane, TabContent } from 'react-bootstrap';\nimport regImg from '../../../assets/images/reg_img.jpg';\n\nclass DonationForm extends React.Component {\n    constructor(props) {\n        super(props);\n        //this.props.fetchDonors();\n        this.name = React.createRef();\n        this.phone = React.createRef();\n        this.dob = React.createRef();\n        \n        this.state = {\n            gender: 'male',\n            bloodType: 'A',\n            location: 'Hlaing, Yangon',\n            completeDonationForm: false\n        };\n    }\n\n    genderOnChange = (event) => {\n        this.setState({\n            gender: event.target.value\n        })\n        console.log(event.target.value);\n    }\n\n    bloodTypeOnChange = (event) => {\n        this.setState({\n            bloodType: event.target.value\n        })\n        console.log(event.target.value);\n    }\n\n    locationOnChange = (event) => {\n        this.setState({\n            locaion: event.target.value\n        })\n    }\n    \n\n    handleOnSubmit = event => {\n        event.preventDefault();\n\n        const donor = {\n            username: this.props.currentUser.email,\n            uid: this.props.currentUser.uid,\n        }\n\n        //const donorData = this.props.donors.find( data => data.uid === donor.uid && data.username === donor.username);\n        const user_id = this.props.currentUser.uid;\n        const user = {\n            name: this.name.current.value,\n            phone: this.phone.current.value,\n            bloodType: this.state.bloodType,\n            dateOfBirth: this.dob.current.value,\n            gender: this.state.gender,\n            location: this.state.location,           \n        }\n\n        this.props.insertDonor(donor); \n        this.props.updateUser(user, user_id);\n\n        this.setState({\n            completeDonationForm: true\n        });\n    };\n\n    render() {\n        if (this.state.completeDonationForm) return <Redirect to=\"/donate/next\" />;\n\n        return (\n            <div className=\"registerSession mt-5\">\n                <Container>\n                    <Row>\n                        {/* <Col></Col>\n                        <Col md={ 5 } className=\"p-0\">\n                            <div class=\"reg_img\">\n                                <img src={regImg}/>\n                            </div>\n                        </Col> */}\n                        {/* <Col></Col>\n\n                        <Col md={ 9 } className=\"regform text-left\">\n                            <Row>\n                                <Col md={ 12 } className=\"text-center mt-4\">\n                                    <h2>Donate Bood, Save Life</h2>\n                                </Col>\n                            </Row>\n\n                            <div className=\"form_field\">\n                                <div className=\"registerSession mt-5\">\n                                    <Form className=\"form\" onSubmit={this.handleOnSubmit}>\n                                        <div className=\"form-group\">\n                                            <Row>\n                                                <Col className=\"text-right\">\n                                                    <label for=\"name\">Name</label>\n                                                </Col>\n                                                <Col md={ 6 }>\n                                                    <input id=\"name\" className=\"form-control\" ref={this.name} required />\n                                                </Col>\n                                            </Row>\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <Row>\n                                                <Col className=\"text-right\">\n                                                    <label for=\"phone\">Phone No</label>\n                                                </Col>\n                                                <Col md={ 6 }>\n                                                    <input id=\"phone\" className=\"form-control\" ref={this.phone} required />\n                                                </Col>\n                                            </Row>\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <Row>\n                                                <Col className=\"text-right\">\n                                                    <label for=\"dob\">Date of Birth</label>\n                                                </Col>\n                                                <Col md={ 6 }>\n                                                    <input id=\"dob\" className=\"form-control\" ref={this.dob} required />\n                                                </Col>\n                                            </Row>\n                                        </div>\n\n\n                                        <div className=\"form-group\">\n                                            <Row>\n                                                <Col className=\"text-right mt-4\">\n                                                    <label for=\"bloodType\">Please select your blood group</label>\n                                                </Col>\n                                                <Col md={ 6 }>\n                                                    <Row className=\"pl-3 blood-types\">\n                                                        <Button className=\"form-control btnblood-type\">A +</Button>\n                                                        <Button className=\"form-control btnblood-type\">A -</Button>\n                                                        <Button className=\"form-control btnblood-type\">B +</Button>\n                                                        <Button className=\"form-control btnblood-type\">B -</Button>\n                                                    </Row>\n\n                                                    <Row className=\"pl-3 blood-types\">\n                                                        <Button className=\"form-control btnblood-type\">AB +</Button>\n                                                        <Button className=\"form-control btnblood-type\">AB -</Button>\n                                                        <Button className=\"form-control btnblood-type\">O +</Button>\n                                                        <Button className=\"form-control btnblood-type\">O -</Button>\n                                                    </Row>                \n                                                </Col>\n                                            </Row>\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <Row>            \n                                                <Col className=\"text-right\">\n                                                    <label for=\"location\">Location</label>\n                                                </Col>\n                                                <Col md={ 6 }>\n                                                    <select id=\"location\" className=\"form-control\" onChange={this.locationOnChange}>\n                                                        <option value=\"Hlaing, Yangon\">Hlaing, Yangon</option>\n                                                        <option value=\"Kamaryut, Yangon\">Kamaryut, Yangon</option>\n                                                        <option value=\"Insein, Yangon\">Insein, Yangon</option>\n                                                    </select>\n                                                </Col>\n                                            </Row>\n                                        </div>\n                                        <div className=\"form-bottom text-right\">\n                                            <Button type=\"submit\">Submit</Button>\n                                        </div>\n                                    </Form>\n                                </div>\n                            </div>\n                        </Col>\n                        <Col></Col> */}\n                    </Row>\n                </Container>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    currentUser : state.currentUser,\n    //donors: state.donors\n})\n\nconst mapDispatchToProps = {\n    insertDonor,\n    updateUser,\n    //fetchDonors\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DonationForm);"]},"metadata":{},"sourceType":"module"}