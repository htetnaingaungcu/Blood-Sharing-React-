{"ast":null,"code":"var _jsxFileName = \"/media/htet/13d0eda8-9d9f-4341-9c22-cd0d2676df10/PADC Project/PADC7-FP-BloodSharing-Web/blood-sharing/src/components/container/DonationForm/DonationForm.js\";\nimport React from \"react\";\nimport { BrowserRouter as Router, Route, Link, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { insertDonor, fetchDonors } from \"../../../actions/donorActions\";\nimport { updateUser } from \"../../../actions/userActions\";\n\nclass DonationForm extends React.Component {\n  constructor(props) {\n    super(props); //this.props.fetchDonors();\n\n    this.genderOnChange = event => {\n      this.setState({\n        gender: event.target.value\n      });\n      console.log(event.target.value);\n    };\n\n    this.bloodTypeOnChange = event => {\n      this.setState({\n        bloodType: event.target.value\n      });\n      console.log(event.target.value);\n    };\n\n    this.locationOnChange = event => {\n      this.setState({\n        locaion: event.target.value\n      });\n    };\n\n    this.handleOnSubmit = event => {\n      event.preventDefault();\n      const donor = {\n        username: this.props.currentUser.email,\n        uid: this.props.currentUser.uid //const donorData = this.props.donors.find( data => data.uid === donor.uid && data.username === donor.username);\n\n      };\n      const user_id = this.props.currentUser.uid;\n      const user = {\n        name: this.name.current.value,\n        phone: this.phone.current.value,\n        bloodType: this.state.bloodType,\n        dateOfBirth: this.dob.current.value,\n        gender: this.state.gender,\n        location: this.state.location\n      };\n      this.props.insertDonor(donor);\n      this.props.updateUser(user, user_id);\n      this.setState({\n        completeDonationForm: true\n      });\n    };\n\n    this.name = React.createRef();\n    this.phone = React.createRef();\n    this.dob = React.createRef();\n    this.state = {\n      gender: 'male',\n      bloodType: 'A',\n      location: 'Hlaing, Yangon',\n      completeDonationForm: false\n    };\n  }\n\n  render() {\n    if (this.state.completeDonationForm) return React.createElement(Redirect, {\n      to: \"/donate/next\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    });\n    return React.createElement(\"form\", {\n      onSubmit: this.handleOnSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Name : \"), React.createElement(\"input\", {\n      id: \"name\",\n      ref: this.name,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"phone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Phone Number : \"), React.createElement(\"input\", {\n      id: \"phone\",\n      ref: this.phone,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"dob\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Date of Birth : \"), React.createElement(\"input\", {\n      id: \"dob\",\n      ref: this.dob,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"bloodType\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Please select your blood group : \"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"A\",\n      checked: this.state.bloodType === \"A\",\n      onChange: this.bloodTypeOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), \"A\", React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"A+\",\n      checked: this.state.bloodType === \"A+\",\n      onChange: this.bloodTypeOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), \"A+\", React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"B\",\n      checked: this.state.bloodType === \"B\",\n      onChange: this.bloodTypeOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), \"B\", React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"B+\",\n      checked: this.state.bloodType === \"B+\",\n      onChange: this.bloodTypeOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), \"B+\", React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"O\",\n      checked: this.state.bloodType === \"O\",\n      onChange: this.bloodTypeOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), \"O\", React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"O+\",\n      checked: this.state.bloodType === \"O+\",\n      onChange: this.bloodTypeOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), \"O+\", React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"AB\",\n      checked: this.state.bloodType === \"AB\",\n      onChange: this.genderOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), \"AB\", React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"AB+\",\n      checked: this.state.bloodType === \"AB+\",\n      onChange: this.bloodTypeOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), \"AB+\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"gender\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Gender : \"), React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"male\",\n      checked: this.state.gender === \"male\",\n      onChange: this.genderOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), \"Male\", React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"female\",\n      checked: this.state.gender === \"female\",\n      onChange: this.genderOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }), \"Female\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"location\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Location : \"), React.createElement(\"select\", {\n      id: \"location\",\n      onChange: this.locationOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"Hlaing, Yangon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Hlaing, Yangon\"), React.createElement(\"option\", {\n      value: \"Kamaryut, Yangon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Kamaryut, Yangon\"), React.createElement(\"option\", {\n      value: \"Insein, Yangon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Insein, Yangon\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Back\")), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Next\")));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  currentUser: state.currentUser //donors: state.donors\n\n});\n\nconst mapDispatchToProps = {\n  insertDonor,\n  updateUser //fetchDonors\n\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(DonationForm);","map":{"version":3,"sources":["/media/htet/13d0eda8-9d9f-4341-9c22-cd0d2676df10/PADC Project/PADC7-FP-BloodSharing-Web/blood-sharing/src/components/container/DonationForm/DonationForm.js"],"names":["React","BrowserRouter","Router","Route","Link","Redirect","connect","insertDonor","fetchDonors","updateUser","DonationForm","Component","constructor","props","genderOnChange","event","setState","gender","target","value","console","log","bloodTypeOnChange","bloodType","locationOnChange","locaion","handleOnSubmit","preventDefault","donor","username","currentUser","email","uid","user_id","user","name","current","phone","state","dateOfBirth","dob","location","completeDonationForm","createRef","render","mapStateToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { BrowserRouter as  Router, Route, Link,Redirect } from \"react-router-dom\";\n\nimport { connect } from \"react-redux\";\nimport { insertDonor, fetchDonors } from \"../../../actions/donorActions\";\nimport { updateUser } from \"../../../actions/userActions\";\n\n\nclass DonationForm extends React.Component {\n    constructor(props) {\n        super(props);\n        //this.props.fetchDonors();\n        this.name = React.createRef();\n        this.phone = React.createRef();\n        this.dob = React.createRef();\n        \n        this.state = {\n            gender: 'male',\n            bloodType: 'A',\n            location: 'Hlaing, Yangon',\n            completeDonationForm: false\n        };\n    }\n\n    genderOnChange = (event) => {\n        this.setState({\n            gender: event.target.value\n        })\n        console.log(event.target.value);\n    }\n\n    bloodTypeOnChange = (event) => {\n        this.setState({\n            bloodType: event.target.value\n        })\n        console.log(event.target.value);\n    }\n\n    locationOnChange = (event) => {\n        this.setState({\n            locaion: event.target.value\n        })\n    }\n    \n\n    handleOnSubmit = event => {\n        event.preventDefault();\n\n        const donor = {\n            username: this.props.currentUser.email,\n            uid: this.props.currentUser.uid,\n        }\n\n        //const donorData = this.props.donors.find( data => data.uid === donor.uid && data.username === donor.username);\n        const user_id = this.props.currentUser.uid;\n        const user = {\n            name: this.name.current.value,\n            phone: this.phone.current.value,\n            bloodType: this.state.bloodType,\n            dateOfBirth: this.dob.current.value,\n            gender: this.state.gender,\n            location: this.state.location,           \n        }\n\n        this.props.insertDonor(donor); \n        this.props.updateUser(user, user_id);\n\n        this.setState({\n            completeDonationForm: true\n        });\n    };\n\n    render() {\n        if (this.state.completeDonationForm) return <Redirect to=\"/donate/next\" />;\n\n        return (\n            <form onSubmit={this.handleOnSubmit}>\n                \n                <label htmlFor=\"name\">Name : </label>\n                <input id=\"name\" ref={this.name} required />\n                <br />\n                <label htmlFor=\"phone\">Phone Number : </label>\n                <input id=\"phone\" ref={this.phone} required />\n                <br />\n                \n                <label htmlFor=\"dob\">Date of Birth : </label>\n                <input id=\"dob\" ref={this.dob} required />\n                <br />\n\n                <label htmlFor=\"bloodType\">Please select your blood group : </label><br/>\n                <input type=\"radio\" value=\"A\" checked={this.state.bloodType === \"A\"}\n                    onChange={this.bloodTypeOnChange} />\n                A\n                <input type=\"radio\" value=\"A+\" checked={this.state.bloodType === \"A+\"}\n                    onChange={this.bloodTypeOnChange} />\n                A+\n                <input type=\"radio\" value=\"B\" checked={this.state.bloodType === \"B\"}\n                    onChange={this.bloodTypeOnChange} />\n                B\n                <input type=\"radio\" value=\"B+\" checked={this.state.bloodType === \"B+\"}\n                    onChange={this.bloodTypeOnChange} />\n                B+\n                <input type=\"radio\" value=\"O\" checked={this.state.bloodType === \"O\"}\n                    onChange={this.bloodTypeOnChange} />\n                O\n                <input type=\"radio\" value=\"O+\" checked={this.state.bloodType === \"O+\"}\n                    onChange={this.bloodTypeOnChange} />\n                O+\n                <input type=\"radio\" value=\"AB\" checked={this.state.bloodType === \"AB\"}\n                    onChange={this.genderOnChange} />\n                AB\n                <input type=\"radio\" value=\"AB+\" checked={this.state.bloodType === \"AB+\"}\n                    onChange={this.bloodTypeOnChange} />\n                AB+\n                <br /> \n                \n                <label htmlFor=\"gender\">Gender : </label>\n                <input type=\"radio\" value=\"male\" checked={this.state.gender === \"male\"}\n                    onChange={this.genderOnChange} />\n                Male\n                <input type=\"radio\" value=\"female\" checked={this.state.gender === \"female\"}\n                    onChange={this.genderOnChange} />\n                Female\n                <br /> \n                <label htmlFor=\"location\">Location : </label>\n                <select id=\"location\" onChange={this.locationOnChange}>\n                    <option value=\"Hlaing, Yangon\">Hlaing, Yangon</option>\n                    <option value=\"Kamaryut, Yangon\">Kamaryut, Yangon</option>\n                    <option value=\"Insein, Yangon\">Insein, Yangon</option>\n                </select>\n                <br />\n                <div>\n                    <Link to=\"/\"><button type=\"submit\">Back</button></Link>\n                    <button type=\"submit\">Next</button>\n                </div>               \n                \n            </form>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    currentUser : state.currentUser,\n    //donors: state.donors\n})\n\nconst mapDispatchToProps = {\n    insertDonor,\n    updateUser,\n    //fetchDonors\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DonationForm);"]},"metadata":{},"sourceType":"module"}